<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js" integrity="sha512-F5QTlBqZlvuBEs9LQPqc1iZv2UMxcVXezbHzomzS6Df4MZMClge/8+gXrKw2fl5ysdk4rWjR0vKS7NNkfymaBQ==" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script type="text/javascript">
        $(document).ready(function() {
            $.get( "https://plt5iufcl5.execute-api.us-east-2.amazonaws.com/test_2/backups",
                function(data, status) {
                    $.each(data, function (i, hdd) {
                        $("#HDlist").append('<p>' + hdd.Simulator + '\t' + hdd.SN + '</p>');
                    });
                });
        });
    </script>
</head>
<body>

	<h1>To be updated</h1>
	<div id="HDlist"></div>
	<br>
	
	<h1>Update</h1>
	<label> Simulator: </label>
	<input id="sim" name="simulator" placeholder="X-XXX-X" type="text">
	<label> Serial Number: </label>
	<input id="SN" name="SN" placeholder="XXXXXXXX" type="text">
	<br><br>
	<button id="submitButton">submit</button><br>
	<button id="back"> homepage </button>
	
	<script type="text/javascript">
		
		$('#submitButton').on('click', function(){
			$.ajax({
				type: 'PATCH',
				url: 'https://plt5iufcl5.execute-api.us-east-2.amazonaws.com/test_2/backups',
				data: JSON.stringify({"Simulator": $('#sim').val(), "SN": $('#SN').val()}),
				contentType: "application/json",
				
				success: function(data){
					location.reload();
				}
			});
			
			return false;
		})
	</script>
	
</body>
</html>
